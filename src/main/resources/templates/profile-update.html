<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="https://www.ultraq.net.nz/thymeleaf/layout">

<th:block layout:fragment="css">
  <link rel="stylesheet" th:href="@{/assets/css/profile.css}">
</th:block>

<div layout:fragment="content">
  <body>
  <div>
    <div>
      <img th:src="@{/images/Netflix_Logo.png}" class="main_logo_img" alt="메인로고이미지">
    </div>
    <div class="profile-aria">
      <div>
        <p class="tv">수정할 프로필을 선택하세요.</p>
      </div>
      <div>
        <ul>
          <li th:each="profile : ${profiles}">
            <div class="profile">
              <a th:href="@{/profile/profile-updateform/{profileId}(profileId=${profile.id})}">
                <div class="profile-card">
                  <img th:src="${profile.imageUrl}" alt="user1img">
                </div>
                <p class="profile-card" th:text="${profile.name}"></p>
              </a>
            </div>
          </li>
        </ul>
      </div>

      <div class="button">
        <a th:href="@{/profile/profile-new}" class="made-profile" onclick="return checkProfileLimit();">
          <p>프로필 생성</p>
        </a>
      </div>
    </div>
  </div>
  </body>
</div>

<script>
 function checkProfileLimit() {
    var profiles = document.querySelectorAll('.profile');
    if (profiles.length >= 5) {
      alert("프로필을 더 이상 생성할 수 없습니다. 최대 5개까지만 생성할 수 있습니다.");
      location.href= '/profile/profile';
    }
    return true;
  }


</script>
</html>
